<!-- Testimonial Component -->
<!-- Usage: {% include testimonial.html quote="..." author="..." location="..." image="..." rating=5 %} -->

<div class="testimonial">
  <blockquote class="testimonial-quote">
    "{{ include.quote }}"
  </blockquote>

  <div class="testimonial-author">
    {% if include.image %}
    <img 
      src="{{ include.image | relative_url }}" 
      alt="{{ include.author }}" 
      class="author-image"
      loading="lazy"
    >
    {% endif %}

    <div class="author-info">
      <h4>{{ include.author }}</h4>
      {% if include.location %}
      <p class="author-location">{{ include.location }}</p>
      {% endif %}
      {% if include.rating %}
      <p class="stars" aria-label="Rating: {{ include.rating }} out of 5 stars">
        {% for i in (1..include.rating) %}
          <span class="star">â˜…</span>
        {% endfor %}
      </p>
      {% endif %}
    </div>
  </div>
</div>

<style>
  .testimonial {
    background-color: #f5f5f5;
    padding: 2rem;
    margin: 2rem 0;
    border-left: 4px solid #d4a373;
    border-radius: 0;

    @media (max-width: 768px) {
      padding: 1.5rem;
    }

    .testimonial-quote {
      font-size: 1.125rem;
      line-height: 1.8;
      color: #1a1a1a;
      border-left: none;
      padding-left: 0;
      margin-left: 0;
      margin-bottom: 1.5rem;
      font-style: italic;
    }

    .testimonial-author {
      display: flex;
      gap: 1rem;
      align-items: flex-start;

      .author-image {
        width: 60px;
        height: 60px;
        border-radius: 50%;
        object-fit: cover;
        flex-shrink: 0;

        @media (max-width: 768px) {
          width: 50px;
          height: 50px;
        }
      }

      .author-info {
        h4 {
          margin: 0 0 0.25rem 0;
          font-size: 1rem;
          font-weight: 600;
          color: #1a1a1a;
        }

        .author-location {
          font-size: 0.875rem;
          color: #999;
          margin: 0 0 0.5rem 0;
        }

        .stars {
          margin: 0;
          font-size: 0.875rem;
          letter-spacing: 0.25rem;

          .star {
            color: #d4a373;
          }
        }
      }
    }
  }
</style>
